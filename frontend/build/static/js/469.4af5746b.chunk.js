"use strict";(self.webpackChunkpet_adoption_app=self.webpackChunkpet_adoption_app||[]).push([[469],{9469:function(e,i,a){a.r(i),a.d(i,{default:function(){return x}});var t=a(5861),s=a(885),n=a(7757),l=a.n(n),r=a(2791),o=a(5734),u=a(5833),p=a(5440),d=a(9457),v=a(2567),m=a(8300),c=a(8265),h=a(184),x=function(){var e=(0,r.useContext)(o.V),i=e.User,a=e.token,n=(0,v.x)(),x=n.isLoading,f=n.error,N=n.sendRequest,b=n.clearError,j=(0,u.Z)({firstName:{value:i.firstName,isValid:!0},lastName:{value:i.lastName,isValid:!0},phone:{value:i.phone,isValid:!0},email:{value:i.email,isValid:!0},password:{value:i.password,isValid:!0},bio:{value:i.bio,isValid:!0}},!0),V=(0,s.Z)(j,3),I=V[0],w=V[1],g=V[2];(0,r.useEffect)((function(){i&&g({firstName:{value:i.firstName,isValid:!0},lastName:{value:i.lastName,isValid:!0},phone:{value:i.phone,isValid:!0},email:{value:i.email,isValid:!0},password:{value:i.password,isValid:!0},bio:{value:i.bio,isValid:!0}},!0)}),[g,i]);var y=(0,r.useState)(!1),C=(0,s.Z)(y,2),T=C[0],k=C[1],E=function(){var e=(0,t.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,N("".concat("https://pet-adoption-portal.herokuapp.com","/users/").concat(i._id),"PUT",JSON.stringify({firstName:I.inputs.firstName.value,lastName:I.inputs.lastName.value,phone:I.inputs.phone.value,email:I.inputs.email.value,password:I.inputs.password.value,bio:I.inputs.bio.value}),{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)});case 3:k(!0),setTimeout((function(){k(!1)}),2e3);case 5:case"end":return e.stop()}}),e)})));return function(i){return e.apply(this,arguments)}}();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(m.Z,{error:f,onClear:b}),x&&(0,h.jsx)(c.Z,{asOverlay:!0}),(0,h.jsx)(p.M5,{className:"profile-settings-title",children:(0,h.jsx)("h4",{children:"Edit Profile Settings"})}),(0,h.jsxs)("div",{className:"profile-settings-container",children:[(0,h.jsx)(p.II,{label:(0,h.jsx)("span",{children:"First Name:"}),id:"firstName",onInput:w,element:"input",type:"text",initialvalue:I.inputs.firstName.value,initialvalid:I.inputs.firstName.isValid,validators:[(0,d.hg)()],errorText:"First Name required"}),(0,h.jsx)(p.II,{label:(0,h.jsx)("span",{children:"Last Name:"}),id:"lastName",onInput:w,element:"input",type:"text",initialvalue:I.inputs.lastName.value,initialvalid:I.inputs.lastName.isValid,validators:[(0,d.hg)()],errorText:"Last Name required"}),(0,h.jsx)(p.II,{label:(0,h.jsx)("span",{children:"Phone Number:"}),id:"phone",onInput:w,element:"input",type:"text",initialvalue:I.inputs.phone.value,initialvalid:I.inputs.phone.isValid,validators:[(0,d.hg)()],errorText:"Enter valid phone number"}),(0,h.jsx)(p.II,{label:(0,h.jsx)("span",{children:"Email:"}),id:"email",onInput:w,element:"input",type:"email",initialvalue:I.inputs.email.value,initialvalid:I.inputs.email.isValid,validators:[(0,d.Ox)()],errorText:"Enter valid email"}),(0,h.jsx)(p.II,{label:(0,h.jsx)("span",{children:"Password:"}),id:"password",onInput:w,element:"input",type:"password",initialvalue:I.inputs.password.value,initialvalid:I.inputs.password.isValid,validators:[(0,d.CP)(6)],errorText:"Password needs 6 characters min"}),(0,h.jsx)(p.II,{label:(0,h.jsx)("span",{children:"Bio:"}),id:"bio",onInput:w,type:"text",initialvalue:I.inputs.bio.value,initialvalid:I.inputs.bio.isValid,validators:[(0,d.hg)()],errorText:"Bio required"}),(0,h.jsx)(p.M5,{children:(0,h.jsx)(p.un,{disabled:!I.isValid,onClick:E,children:"Submit Changes"})})]}),(0,h.jsx)(p.u_,{show:T,onCancel:function(){k(!1)},headerClass:"pet-page-modal-header",headerText:"Your profile details have been saved."})]})}}}]);
//# sourceMappingURL=469.4af5746b.chunk.js.map