"use strict";(self.webpackChunkpet_adoption_app=self.webpackChunkpet_adoption_app||[]).push([[286],{7286:function(e,n,t){t.r(n),t.d(n,{default:function(){return x}});var r=t(5861),a=t(885),s=t(7757),o=t.n(s),c=t(2791),i=t(6871),u=t(5440),d=t(5734),p=t(8300),l=t(8265),h=t(2567),f=t(184),x=function(){var e=(0,c.useContext)(d.V),n=e.User,t=e.token,s=(0,c.useState)(),x=(0,a.Z)(s,2),j=x[0],m=x[1],v=(0,i.UO)().petId,k=(0,c.useState)(),C=(0,a.Z)(k,2),g=C[0],y=C[1],_=(0,h.x)(),w=_.isLoading,T=_.error,S=_.sendRequest,Z=_.clearError;(0,c.useEffect)((function(){var e,t=function(){var e=(0,r.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("".concat("https://pet-adoption-portal.herokuapp.com","/pets/").concat(v),"GET");case 2:n=e.sent,m(n.pet);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(t(),n){e=n._id;var a=function(){var n=(0,r.Z)(o().mark((function n(){var t,r,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S("".concat("https://pet-adoption-portal.herokuapp.com","/users/").concat(e),"GET");case 2:t=n.sent,r=t.user,a=r.savedPets.find((function(e){return e._id===v})),y(!!a);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();a()}}),[S,v,g,n]);var N=(0,c.useState)(!1),b=(0,a.Z)(N,2),P=b[0],O=b[1],A=(0,c.useState)(!1),F=(0,a.Z)(A,2),z=F[0],B=F[1],I=function(){O(!1)},D=function(){O(!0)},J=function(){var e=(0,r.Z)(o().mark((function e(r){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),H(!1),te(!1),e.next=5,S("".concat("https://pet-adoption-portal.herokuapp.com","/pets/adopt/").concat(n._id),"POST",JSON.stringify({status:j.status,_id:j._id}),{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)});case 5:a=e.sent,m(a.pet),B(!0),setTimeout((function(){O(!1)}),2e3);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),M=(0,c.useState)(!1),Y=(0,a.Z)(M,2),q=Y[0],E=Y[1],R=(0,c.useState)(!1),U=(0,a.Z)(R,2),G=U[0],H=U[1],L=function(){E(!1)},V=function(){var e=(0,r.Z)(o().mark((function e(r){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),B(!1),te(!1),e.next=5,S("".concat("https://pet-adoption-portal.herokuapp.com","/pets/foster/").concat(n._id),"POST",JSON.stringify({status:j.status,_id:j._id}),{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)});case 5:a=e.sent,m(a.pet),H(!0),setTimeout((function(){E(!1)}),2e3);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),W=(0,c.useState)(!1),K=(0,a.Z)(W,2),Q=K[0],X=K[1],$=(0,c.useState)(!1),ee=(0,a.Z)($,2),ne=ee[0],te=ee[1],re=function(){X(!0)},ae=function(){X(!1)},se=function(){var e=(0,r.Z)(o().mark((function e(r){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),B(!1),H(!1),y(!1),e.next=6,S("".concat("https://pet-adoption-portal.herokuapp.com","/pets/return/").concat(n._id),"POST",JSON.stringify({status:j.status,_id:j._id}),{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)});case 6:a=e.sent,m(a.pet),te(!0),setTimeout((function(){X(!1)}),2e3);case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),oe=(0,c.useState)(!1),ce=(0,a.Z)(oe,2),ie=ce[0],ue=ce[1],de=function(){var e=(0,r.Z)(o().mark((function e(){var r,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("".concat("https://pet-adoption-portal.herokuapp.com","/users/saved/").concat(n._id),"POST",JSON.stringify(j),{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)});case 2:r=e.sent,a=r.user,(s=a.savedPets.find((function(e){return e._id===v})))&&0!==s.length?y(!0):y(!1),ue(!0),setTimeout((function(){ue(!1)}),2e3);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=(0,r.Z)(o().mark((function e(){var r,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("".concat("https://pet-adoption-portal.herokuapp.com","/users/unsaved/").concat(n._id),"POST",JSON.stringify(j),{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)});case 2:r=e.sent,a=r.user,(s=a.savedPets.find((function(e){return e._id===v})))&&0!==s.length?y(!0):y(!1),ue(!0),setTimeout((function(){ue(!1)}),2e3);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(p.Z,{error:T,onClear:Z}),w&&(0,f.jsx)(l.Z,{asOverlay:!0}),(0,f.jsx)(u.rj,{className:"pet-page",children:!w&&j&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(u.M5,{className:"pet-image-section",children:(0,f.jsx)("img",{className:"pet-profile-image",src:"".concat(j.image),alt:j.breed})}),(0,f.jsx)("div",{className:"about-pet-section",children:(0,f.jsx)("div",{className:"about-pet-container",children:(0,f.jsxs)("div",{className:"about-pet-inner",children:[(0,f.jsx)("div",{className:"pet-name",children:"Facts About ".concat(j.name)}),(0,f.jsxs)("div",{children:["Type of Pet:",(0,f.jsx)("span",{children:" ".concat(j.type," ")}),"Breed:",(0,f.jsx)("span",{children:" ".concat(j.breed)})]}),(0,f.jsxs)("div",{children:["Current Status:",(0,f.jsx)("span",{children:" ".concat(j.status)})]}),(0,f.jsxs)("div",{children:["Height:",(0,f.jsx)("span",{children:" ".concat(j.height)})," Weight: ",(0,f.jsx)("span",{children:" ".concat(j.weight)})]}),(0,f.jsxs)("div",{children:["Color:",(0,f.jsx)("span",{children:" ".concat(j.color)})]}),(0,f.jsxs)("div",{children:["Hypoallergenic:",(0,f.jsx)("span",{children:" ".concat(j.hypoall)})]}),(0,f.jsxs)("div",{children:["Dietary Restrictions:",(0,f.jsx)("span",{children:" ".concat(j.dietno)})]}),(0,f.jsxs)("div",{children:["Bio:",(0,f.jsx)("span",{children:" ".concat(j.bio)})]})]})})}),!n&&(0,f.jsxs)("div",{className:"login-prompt",children:["Did ",(0,f.jsx)("span",{children:j.name})," catch your eye? Please Login to adopt or foster ",(0,f.jsxs)("span",{children:[j.name,"."]})]}),n&&(0,f.jsxs)(u.M5,{className:"buttons-section",children:[n._id!==j.userId&&"Available"===j.status&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(u.un,{onClick:D,children:"Adopt"})," ",(0,f.jsx)(u.un,{onClick:function(){E(!0)},children:"Foster"})]}),n._id!==j.userId&&"Fostered"===j.status&&(0,f.jsx)(u.un,{onClick:D,children:"Adopt"}),n._id===j.userId&&"Fostered"===j.status&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(u.un,{onClick:D,children:"Adopt"}),(0,f.jsx)(u.un,{onClick:re,children:"Return"})]}),n._id===j.userId&&"Adopted"===j.status&&(0,f.jsx)(u.un,{onClick:re,children:"Return"}),n._id!==j.userId&&!g&&(0,f.jsx)(u.un,{onClick:de,className:"",children:"Save"}),n._id!==j.userId&&g&&(0,f.jsx)(u.un,{onClick:pe,className:"",children:"Unsave"})]}),";",(0,f.jsx)(u.u_,{show:P,onCancel:I,headerClass:"pet-page-modal-header",headerText:z?"Thank you so much for adopting ".concat(j.name,"! You're amazing!"):"You're quite sure you want to Adopt ".concat(j.name,"?"),footer:!z&&(0,f.jsx)(u.M5,{children:(0,f.jsxs)(u.x1,{children:[(0,f.jsx)(u.un,{onClick:J,children:"Proceed"}),(0,f.jsx)(u.un,{onClick:I,children:"Cancel"})]})})}),(0,f.jsx)(u.u_,{show:q,onCancel:L,headerClass:"pet-page-modal-header",headerText:G?"Thank you so much for fostering ".concat(j.name,"! You're amazing!"):"You're quite sure you want to Foster ".concat(j.name,"?"),footer:!G&&(0,f.jsx)(u.M5,{children:(0,f.jsxs)(u.x1,{children:[(0,f.jsx)(u.un,{onClick:V,children:"Proceed"}),(0,f.jsx)(u.un,{onClick:L,children:"Cancel"})]})})}),(0,f.jsx)(u.u_,{show:Q,onCancel:ae,headerClass:"pet-page-modal-header",headerText:ne?"Ok, please bring ".concat(j.name," back to the mission center."):"You're quite sure you want to return ".concat(j.name,"?"),footer:!ne&&(0,f.jsx)(u.M5,{children:(0,f.jsxs)(u.x1,{children:[(0,f.jsx)(u.un,{onClick:se,children:"Proceed"}),(0,f.jsx)(u.un,{onClick:ae,children:"Cancel"})]})})}),(0,f.jsx)(u.u_,{show:ie,onCancel:function(){ue(!1)},headerClass:"pet-page-modal-header",headerText:"".concat(j.name,g?" has been added to your list of saved Pets":" has been removed from your list of saved Pets")})]})})]})}}}]);
//# sourceMappingURL=286.c0830a71.chunk.js.map